{"ast":null,"code":"import * as React from \"react\";\nimport { useQueryWithStore, Loading, Error } from 'react-admin';\nimport drfProvider from 'ra-data-django-rest-framework';\nimport { List, Datagrid, TextField, DateField, EmailField, SearchInput, Filter, fetchUtils } from 'react-admin';\n\nconst httpClient = (url, options = {}) => {\n  console.log(url);\n\n  if (!options.headers) {\n    options.headers = new Headers({\n      Accept: 'application/json'\n    });\n  }\n\n  const {\n    token\n  } = JSON.parse(localStorage.getItem('auth'));\n  options.headers.set('Authorization', `Bearer ${token}`);\n  return fetchUtils.fetchJson(url, options);\n};\n\nconst dataProvider = drfProvider('https://staging.vico.ai/analytics', httpClient);\nconst myDataProvider = { ...dataProvider,\n  getList: (resource, params) => {\n    if (resource == 'stores') {\n      return dataProvider.getList(resource, params);\n    }\n  }\n}; // const storeProvider = ({ userId, props }) => {\n//     const { data, loaded, error } = useQueryWithStore({ \n//         type: 'getMany',\n//         resource: 'stores',\n//         payload: { id: userId }\n//     });\n//     if (!loaded) { return <Loading />; }\n//     if (error) { return <Error />; }\n//     return (\n//         <List {...props}>\n//             <Datagrid rowClick=\"edit\">\n//                 <TextField source=\"data.id\" />\n//                 <TextField source=\"name\" />\n//                 <TextField source=\"assigned\" />\n//                 <TextField source=\"categories\" />\n//                 <TextField source=\"schedules\" />\n//                 <TextField source=\"time_zone\" />\n//                 <TextField source=\"identifier\" />\n//             </Datagrid>\n//         </List>\n//     );\n// };\n\nexport default myDataProvider;","map":{"version":3,"sources":["/home/roberto/Documents/Personal/test-admin/src/StoreProvider.js"],"names":["React","useQueryWithStore","Loading","Error","drfProvider","List","Datagrid","TextField","DateField","EmailField","SearchInput","Filter","fetchUtils","httpClient","url","options","console","log","headers","Headers","Accept","token","JSON","parse","localStorage","getItem","set","fetchJson","dataProvider","myDataProvider","getList","resource","params"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,iBAAT,EAA4BC,OAA5B,EAAqCC,KAArC,QAAkD,aAAlD;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,SAASC,IAAT,EAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,SAApC,EAA+CC,UAA/C,EAA2DC,WAA3D,EAAwEC,MAAxE,EAA+EC,UAA/E,QAAiG,aAAjG;;AAGA,MAAMC,UAAU,GAAG,CAACC,GAAD,EAAMC,OAAO,GAAG,EAAhB,KAAuB;AACtCC,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;;AACA,MAAI,CAACC,OAAO,CAACG,OAAb,EAAsB;AAClBH,IAAAA,OAAO,CAACG,OAAR,GAAkB,IAAIC,OAAJ,CAAY;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAZ,CAAlB;AACH;;AACD,QAAM;AAAEC,IAAAA;AAAF,MAAYC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAlB;AACAV,EAAAA,OAAO,CAACG,OAAR,CAAgBQ,GAAhB,CAAoB,eAApB,EAAsC,UAASL,KAAM,EAArD;AACA,SAAOT,UAAU,CAACe,SAAX,CAAqBb,GAArB,EAA0BC,OAA1B,CAAP;AACH,CARD;;AASA,MAAMa,YAAY,GAAGxB,WAAW,CAAC,mCAAD,EAAsCS,UAAtC,CAAhC;AACA,MAAMgB,cAAc,GAAG,EACnB,GAAGD,YADgB;AAEnBE,EAAAA,OAAO,EAAE,CAACC,QAAD,EAAWC,MAAX,KAAsB;AAC3B,QAAID,QAAQ,IAAI,QAAhB,EAA0B;AACtB,aAAOH,YAAY,CAACE,OAAb,CAAqBC,QAArB,EAA+BC,MAA/B,CAAP;AACH;AACJ;AANkB,CAAvB,C,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeH,cAAf","sourcesContent":["import * as React from \"react\";\nimport { useQueryWithStore, Loading, Error } from 'react-admin';\nimport drfProvider from 'ra-data-django-rest-framework';\nimport { List, Datagrid, TextField, DateField, EmailField, SearchInput, Filter,fetchUtils } from 'react-admin';\n\n\nconst httpClient = (url, options = {}) => {\n    console.log(url)\n    if (!options.headers) {\n        options.headers = new Headers({ Accept: 'application/json' });\n    }\n    const { token } = JSON.parse(localStorage.getItem('auth'));\n    options.headers.set('Authorization', `Bearer ${token}`);\n    return fetchUtils.fetchJson(url, options);\n};\nconst dataProvider = drfProvider('https://staging.vico.ai/analytics', httpClient);\nconst myDataProvider = {\n    ...dataProvider,\n    getList: (resource, params) => {\n        if (resource == 'stores') {\n            return dataProvider.getList(resource, params);\n        }\n    }\n};\n// const storeProvider = ({ userId, props }) => {\n//     const { data, loaded, error } = useQueryWithStore({ \n//         type: 'getMany',\n//         resource: 'stores',\n//         payload: { id: userId }\n//     });\n//     if (!loaded) { return <Loading />; }\n//     if (error) { return <Error />; }\n//     return (\n//         <List {...props}>\n//             <Datagrid rowClick=\"edit\">\n//                 <TextField source=\"data.id\" />\n//                 <TextField source=\"name\" />\n//                 <TextField source=\"assigned\" />\n//                 <TextField source=\"categories\" />\n//                 <TextField source=\"schedules\" />\n//                 <TextField source=\"time_zone\" />\n//                 <TextField source=\"identifier\" />\n//             </Datagrid>\n//         </List>\n//     );\n// };\n\nexport default myDataProvider;"]},"metadata":{},"sourceType":"module"}